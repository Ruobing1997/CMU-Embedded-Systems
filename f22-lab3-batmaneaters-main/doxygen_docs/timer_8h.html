<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>14642 Lab3: kernel/include/timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">14642 Lab3
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_009f605b833ac4622acd6c3c0c26c0f0.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">timer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>function prototypes for systick and adc interrupt timers  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;unistd.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for timer.h:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h__incl.png" border="0" usemap="#kernel_2include_2timer_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h__dep__incl.png" border="0" usemap="#kernel_2include_2timer_8hdep" alt=""/></div>
</div>
</div>
<p><a href="timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a670339bd4dc8d18ee4c86de3c540f4dd"><td class="memItemLeft" align="right" valign="top"><a id="a670339bd4dc8d18ee4c86de3c540f4dd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CSR_address</b>&#160;&#160;&#160;(0xE000E010)</td></tr>
<tr class="separator:a670339bd4dc8d18ee4c86de3c540f4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050ee049efa432c503049dcbebbc6146"><td class="memItemLeft" align="right" valign="top"><a id="a050ee049efa432c503049dcbebbc6146"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RVR_address</b>&#160;&#160;&#160;(0xE000E014)</td></tr>
<tr class="separator:a050ee049efa432c503049dcbebbc6146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0479792a2105b5e119a118cc42402c26"><td class="memItemLeft" align="right" valign="top"><a id="a0479792a2105b5e119a118cc42402c26"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CVR_address</b>&#160;&#160;&#160;(0xE000E018)</td></tr>
<tr class="separator:a0479792a2105b5e119a118cc42402c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a03c68635f0cf80298fad08fb45dd0e1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a03c68635f0cf80298fad08fb45dd0e1a">TIMER0_IRQHandler</a> ()</td></tr>
<tr class="memdesc:a03c68635f0cf80298fad08fb45dd0e1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">implement TIMER0_IRQHandler function (1) everytime when the timer0 interrupt is called, issue one task and take one sample (2) issue task clear to reset the timer (3) disable the nvic interrupt to reset the timer  <a href="timer_8h.html#a03c68635f0cf80298fad08fb45dd0e1a">More...</a><br /></td></tr>
<tr class="separator:a03c68635f0cf80298fad08fb45dd0e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb8d3e0fd06464b1ee0ae1edbc3c7d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#aafb8d3e0fd06464b1ee0ae1edbc3c7d6">SysTick_Handler</a> ()</td></tr>
<tr class="memdesc:aafb8d3e0fd06464b1ee0ae1edbc3c7d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">implement systick handler (1) define tick for different state (2) for four states print different charactor  <a href="timer_8h.html#aafb8d3e0fd06464b1ee0ae1edbc3c7d6">More...</a><br /></td></tr>
<tr class="separator:aafb8d3e0fd06464b1ee0ae1edbc3c7d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2ade794b59550be190462993e00363"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a2d2ade794b59550be190462993e00363">systick_start</a> ()</td></tr>
<tr class="memdesc:a2d2ade794b59550be190462993e00363"><td class="mdescLeft">&#160;</td><td class="mdescRight">implement systick start function (1) set CSR register value (2) set RVR register value as 0.25s, 64000 is 1ms (3) set NVIC register to enable interrupt  <a href="timer_8h.html#a2d2ade794b59550be190462993e00363">More...</a><br /></td></tr>
<tr class="separator:a2d2ade794b59550be190462993e00363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ceb4ff889b36c96361ac5955a8ef491"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a7ceb4ff889b36c96361ac5955a8ef491">systick_delay</a> (uint32_t ms)</td></tr>
<tr class="memdesc:a7ceb4ff889b36c96361ac5955a8ef491"><td class="mdescLeft">&#160;</td><td class="mdescRight">implement systick start function (1) set CSR and RVR register (2) wait for ms and then reset the CSR register  <a href="timer_8h.html#a7ceb4ff889b36c96361ac5955a8ef491">More...</a><br /></td></tr>
<tr class="separator:a7ceb4ff889b36c96361ac5955a8ef491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7f1f4299923799c238c8a7375aa8db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#afa7f1f4299923799c238c8a7375aa8db">adc_timer_start</a> (int freq)</td></tr>
<tr class="memdesc:afa7f1f4299923799c238c8a7375aa8db"><td class="mdescLeft">&#160;</td><td class="mdescRight">implement systick start function (1) configure timer instance 0 (2) configure prescaler value and enable interrupt (3) configure bitmode to 3 (4) set CC[0] register value (5) NVIC register, enable TIMER0_interrupt (6) start the timer instance  <a href="timer_8h.html#afa7f1f4299923799c238c8a7375aa8db">More...</a><br /></td></tr>
<tr class="separator:afa7f1f4299923799c238c8a7375aa8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>function prototypes for systick and adc interrupt timers </p>
<dl class="section note"><dt>Note</dt><dd>Not for public release, do not share</dd></dl>
<dl class="section date"><dt>Date</dt><dd>last modified 11 October 2022 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>CMU 14-642 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afa7f1f4299923799c238c8a7375aa8db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7f1f4299923799c238c8a7375aa8db">&#9670;&nbsp;</a></span>adc_timer_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc_timer_start </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>freq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>implement systick start function (1) configure timer instance 0 (2) configure prescaler value and enable interrupt (3) configure bitmode to 3 (4) set CC[0] register value (5) NVIC register, enable TIMER0_interrupt (6) start the timer instance </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>freq is used for configuring timer interrupt </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a7ceb4ff889b36c96361ac5955a8ef491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ceb4ff889b36c96361ac5955a8ef491">&#9670;&nbsp;</a></span>systick_delay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void systick_delay </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>implement systick start function (1) set CSR and RVR register (2) wait for ms and then reset the CSR register </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>ms is the time used for delay function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="aafb8d3e0fd06464b1ee0ae1edbc3c7d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb8d3e0fd06464b1ee0ae1edbc3c7d6">&#9670;&nbsp;</a></span>SysTick_Handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SysTick_Handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>implement systick handler (1) define tick for different state (2) for four states print different charactor </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a2d2ade794b59550be190462993e00363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2ade794b59550be190462993e00363">&#9670;&nbsp;</a></span>systick_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void systick_start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>implement systick start function (1) set CSR register value (2) set RVR register value as 0.25s, 64000 is 1ms (3) set NVIC register to enable interrupt </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a03c68635f0cf80298fad08fb45dd0e1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c68635f0cf80298fad08fb45dd0e1a">&#9670;&nbsp;</a></span>TIMER0_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TIMER0_IRQHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>implement TIMER0_IRQHandler function (1) everytime when the timer0 interrupt is called, issue one task and take one sample (2) issue task clear to reset the timer (3) disable the nvic interrupt to reset the timer </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
</div>
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>